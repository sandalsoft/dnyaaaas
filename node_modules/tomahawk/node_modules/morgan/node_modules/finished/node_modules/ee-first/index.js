function e(e,r){return function(o){var t,n=Array(arguments.length),i=this,a="error"===e?o:null;for(t=0;t<n.length;t++)n[t]=arguments[t];r(a,i,e,n)}}module.exports=function(a,u){function l(){var e,r;for(r=0;r<t.length;r++)e=t[r],e.ee.removeListener(e.event,e.fn);u.apply(null,arguments)}var t,n,r,s,o,i,c;if(!Array.isArray(a))throw new TypeError("arg must be an array of [ee, events...] arrays");for(t=[],n=0;n<a.length;n++){if(r=a[n],!Array.isArray(r)||r.length<2)throw new TypeError("each array member must be [ee, events...]");for(s=r[0],o=1;o<r.length;o++)i=r[o],c=e(i,l),s.on(i,c),t.push({ee:s,event:i,fn:c})}return function(e){u=e}};