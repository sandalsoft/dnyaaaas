function e(e){return e?t(e):void 0}function t(t){for(var r in e.prototype)t[r]=e.prototype[r];return t}module.exports=e,e.prototype.on=e.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},e.prototype.once=function(t,r){function e(){n.off(t,e),r.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},e.fn=r,this.on(t,e),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,o){var e,r,t;if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;if(e=this._callbacks[n],!e)return this;if(1==arguments.length)return delete this._callbacks[n],this;for(t=0;t<e.length;t++)if(r=e[t],r===o||r.fn===o){e.splice(t,1);break}return this},e.prototype.emit=function(o){var r,e,t,n;if(this._callbacks=this._callbacks||{},r=[].slice.call(arguments,1),e=this._callbacks[o],e)for(e=e.slice(0),t=0,n=e.length;n>t;++t)e[t].apply(this,r);return this},e.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},e.prototype.hasListeners=function(e){return!!this.listeners(e).length};