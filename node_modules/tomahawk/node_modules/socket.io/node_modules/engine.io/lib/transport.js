function r(){}function e(){this.readyState="opening"}var n=require("events").EventEmitter,o=require("engine.io-parser"),t=require("debug")("engine:transport");module.exports=e,e.prototype.__proto__=n.prototype,e.prototype.onRequest=function(e){t("setting request"),this.req=e},e.prototype.close=function(e){this.readyState="closing",this.doClose(e||r)},e.prototype.onError=function(r,n){if(this.listeners("error").length){var e=Error(r);e.type="TransportError",e.description=n,this.emit("error",e)}else t("ignored transport error %s (%s)",r,n)},e.prototype.onPacket=function(e){this.emit("packet",e)},e.prototype.onData=function(e){this.onPacket(o.decodePacket(e))},e.prototype.onClose=function(){this.readyState="closed",this.emit("close")};