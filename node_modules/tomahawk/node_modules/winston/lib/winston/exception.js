var t=require("os"),r=require("stack-trace"),e=exports;e.getAllInfo=function(t){return{date:""+new Date,process:e.getProcessInfo(),os:e.getOsInfo(),trace:e.getTrace(t),stack:t.stack&&t.stack.split("\n")}},e.getProcessInfo=function(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}},e.getOsInfo=function(){return{loadavg:t.loadavg(),uptime:t.uptime()}},e.getTrace=function(e){var t=e?r.parse(e):r.get();return t.map(function(e){return{column:e.getColumnNumber(),file:e.getFileName(),"function":e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),"native":e.isNative()}})};