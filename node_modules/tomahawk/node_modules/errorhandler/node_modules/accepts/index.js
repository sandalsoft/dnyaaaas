function e(t){return this instanceof e?(this.headers=t.headers,void(this.negotiator=o(t))):new e(t)}function r(e){return~e.indexOf("/")?e:i.lookup(e)}function n(e){return"string"==typeof e}var o=require("negotiator"),i=require("mime-types"),t=[].slice;module.exports=e,e.prototype.type=e.prototype.types=function(e){var o,i,s,a;return Array.isArray(e)||(e=t.call(arguments)),o=this.negotiator,e.length?this.headers.accept?(i=e.map(r),s=o.mediaTypes(i.filter(n)),a=s[0],a?e[i.indexOf(a)]:!1):e[0]:o.mediaTypes()},e.prototype.encoding=e.prototype.encodings=function(e){Array.isArray(e)||(e=t.call(arguments));var r=this.negotiator;return e.length?r.encodings(e)[0]||!1:r.encodings()},e.prototype.charset=e.prototype.charsets=function(e){Array.isArray(e)||(e=[].slice.call(arguments));var t=this.negotiator;return e.length?this.headers["accept-charset"]?t.charsets(e)[0]||!1:e[0]:t.charsets()},e.prototype.lang=e.prototype.langs=e.prototype.language=e.prototype.languages=function(e){Array.isArray(e)||(e=t.call(arguments));var r=this.negotiator;return e.length?this.headers["accept-language"]?r.languages(e)[0]||!1:e[0]:r.languages()};