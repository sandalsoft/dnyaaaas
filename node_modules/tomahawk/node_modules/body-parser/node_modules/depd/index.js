function containsNamespace(e,t){var r,n=e.split(/[ ,]+/);for(t=(t+"").toLowerCase(),r=0;r<n.length;r++)if((e=n[r])&&("*"===e||e.toLowerCase()===t))return!0;return!1}function convertDataDescriptorToAccessor(r,t){var e=Object.getOwnPropertyDescriptor(r,t),n=e.value;return e.get=function(){return n},e.writable&&(e.set=function(e){return n=e}),delete e.value,delete e.writable,Object.defineProperty(r,t,e),e}function createArgumentsString(t){var e,r="";for(e=0;t>e;e++)r+=", arg"+e;return r.substr(2)}function createStackString(t){var e,r=this.name+": "+this.namespace;for(this.message&&(r+=" deprecated "+this.message),e=0;e<t.length;e++)r+="\n    at "+t[e];return r}function depd(r){function e(r){log.call(e,r)}var t,n,o;if(!r)throw new TypeError("argument namespace is required");return t=getStack(),n=callSiteLocation(t[1]),o=n[0],e._file=o,e._ignored=isignored(r),e._namespace=r,e._traced=istraced(r),e._warned=Object.create(null),e.function=wrapfunction,e.property=wrapproperty,e}function isignored(e){if(process.noDeprecation)return!0;var r=process.env.NO_DEPRECATION||"";return containsNamespace(r,e)}function istraced(e){if(process.traceDeprecation)return!0;var r=process.env.TRACE_DEPRECATION||"";return containsNamespace(r,e)}function log(s,n){var o,u,t,e,c,r,i,a,l,p,f,g=0!==eventListenerCount(process,"deprecation");if(g||!this._ignored){for(e=0,c=!1,r=getStack(),i=this._file,n?(t=callSiteLocation(r[1]),t.name=n.name,i=t[0]):(e=2,n=callSiteLocation(r[e]),t=n);e<r.length;e++)if(o=callSiteLocation(r[e]),u=o[0],u===i)c=!0;else if(u===this._file)i=this._file;else if(c)break;if(a=o?n.join(":")+"__"+o.join(":"):void 0,!(void 0!==a&&a in this._warned)){if(this._warned[a]=!0,s||(s=defaultMessage(t!==n&&t.name?t:n)),g)return l=DeprecationError(this._namespace,s,r.slice(e)),void process.emit("deprecation",l);p=process.stderr.isTTY?formatColor:formatPlain,f=p.call(this,s,o,r.slice(e)),process.stderr.write(f+"\n","utf8")}}}function callSiteLocation(e){var r,t=e.getFileName()||"<anonymous>",n=e.getLineNumber(),o=e.getColumnNumber();return e.isEval()&&(t=e.getEvalOrigin()+", "+t),r=[t,n,o],r.callSite=e,r.name=e.getFunctionName(),r}function defaultMessage(t){var n=t.callSite,e=t.name,r=n.getTypeName();return e||(e="<anonymous@"+formatLocation(t)+">"),"Function"===r&&(r=n.getThis().name||r),n.getMethodName()?r+"."+e:e}function formatPlain(o,t,n){var e,a=(new Date).toUTCString(),r=a+" "+this._namespace+" deprecated "+o;if(this._traced){for(e=0;e<n.length;e++)r+="\n    at "+n[e];return r}return t&&(r+=" at "+formatLocation(t)),r}function formatColor(o,t,n){var e,r="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+o+"[39m";if(this._traced){for(e=0;e<n.length;e++)r+="\n    [36mat "+n[e]+"[39m";return r}return t&&(r+=" [36m"+formatLocation(t)+"[39m"),r}function formatLocation(e){return relative(basePath,e[0])+":"+e[1]+":"+e[2]}function getStack(){var e,r={},t=Error.prepareStackTrace;return Error.prepareStackTrace=prepareObjectStackTrace,Error.captureStackTrace(r,getStack),e=r.stack,Error.prepareStackTrace=t,e}function prepareObjectStackTrace(r,e){return e}function wrapfunction(fn,message){var args,deprecate,stack,site,deprecatedfn;if("function"!=typeof fn)throw new TypeError("argument fn must be a function");return args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]),site.name=fn.name,deprecatedfn=eval("(function ("+args+") {\nlog.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n})")}function wrapproperty(r,t,o){var e,a,c,n,i,s;if(!r||"object"!=typeof r&&"function"!=typeof r)throw new TypeError("argument obj must be object");if(e=Object.getOwnPropertyDescriptor(r,t),!e)throw new TypeError("must call property on owner object");if(!e.configurable)throw new TypeError("property must be configurable");a=this,c=getStack(),n=callSiteLocation(c[1]),n.name=t,"value"in e&&(e=convertDataDescriptorToAccessor(r,t,o)),i=e.get,s=e.set,"function"==typeof i&&(e.get=function(){return log.call(a,o,n),i.apply(this,arguments)}),"function"==typeof s&&(e.set=function(){return log.call(a,o,n),s.apply(this,arguments)}),Object.defineProperty(r,t,e)}function DeprecationError(t,n,o){var r,e=Error();return Object.defineProperty(e,"constructor",{value:DeprecationError}),Object.defineProperty(e,"message",{configurable:!0,enumerable:!1,value:n,writable:!0}),Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(e,"namespace",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(e,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==r?r:r=createStackString.call(this,o)},set:function(e){r=e}}),e}var basePath,eventListenerCount,EventEmitter=require("events").EventEmitter,relative=require("path").relative;module.exports=depd,basePath=process.cwd(),eventListenerCount=EventEmitter.listenerCount||function(e,r){return e.listeners(r).length};