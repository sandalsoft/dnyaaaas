function e(e){t("new %s",e),this.path=e,this.stack=[],this.methods={}}var t=require("debug")("express:router:route"),r=require("./layer"),o=require("methods"),n=require("../utils");module.exports=e,e.prototype._handles_method=function(e){return this.methods._all?!0:(e=e.toLowerCase(),"head"!==e||this.methods.head||(e="get"),!!this.methods[e])},e.prototype._options=function(){return Object.keys(this.methods).map(function(e){return e.toUpperCase()})},e.prototype.dispatch=function(e,o,n){function t(s){if(s&&"route"===s)return n();var c=i[a++];return c?c.method&&c.method!==r?t(s):void(s?c.handle_error(s,e,o,t):c.handle_request(e,o,t)):n(s)}var r,a=0,i=this.stack;return 0===i.length?n():(r=e.method.toLowerCase(),"head"!==r||this.methods.head||(r="get"),e.route=this,void t())},e.prototype.all=function(){var e=this,t=n.flatten([].slice.call(arguments));return t.forEach(function(t){var o,i,n;if("function"!=typeof t)throw o={}.toString.call(t),i="Route.all() requires callback functions but got a "+o,Error(i);n=r("/",{},t),n.method=void 0,e.methods._all=!0,e.stack.push(n)}),e},o.forEach(function(o){e.prototype[o]=function(){var e=this,i=n.flatten([].slice.call(arguments));return i.forEach(function(n){var a,s,i;if("function"!=typeof n)throw a={}.toString.call(n),s="Route."+o+"() requires callback functions but got a "+a,Error(s);t("%s %s",o,e.path),i=r("/",{},n),i.method=o,e.methods[o]=!0,e.stack.push(i)}),e}});