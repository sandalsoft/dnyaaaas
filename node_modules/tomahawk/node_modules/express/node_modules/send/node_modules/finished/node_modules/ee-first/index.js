function e(e,t){return function(o){var r,n=Array(arguments.length),i=this,s="error"===e?o:null;for(r=0;r<n.length;r++)n[r]=arguments[r];t(s,i,e,n)}}module.exports=function(s,u){function l(){var e,t;for(t=0;t<r.length;t++)e=r[t],e.ee.removeListener(e.event,e.fn);u.apply(null,arguments)}var r,n,t,a,o,i,c;if(!Array.isArray(s))throw new TypeError("arg must be an array of [ee, events...] arrays");for(r=[],n=0;n<s.length;n++){if(t=s[n],!Array.isArray(t)||t.length<2)throw new TypeError("each array member must be [ee, events...]");for(a=t[0],o=1;o<t.length;o++)i=t[o],c=e(i,l),a.on(i,c),r.push({ee:a,event:i,fn:c})}return function(e){u=e}};