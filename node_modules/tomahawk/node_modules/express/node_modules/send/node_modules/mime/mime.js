function t(){this.types=Object.create(null),this.extensions=Object.create(null)}var e,r=require("path"),n=require("fs");t.prototype.define=function(n){var t,e,r;for(t in n){for(e=n[t],r=0;r<e.length;r++)process.env.DEBUG_MIME&&this.types[e]&&console.warn(this._loading.replace(/.*\//,""),'changes "'+e[r]+'" extension type from '+this.types[e]+" to "+t),this.types[e[r]]=t;this.extensions[t]||(this.extensions[t]=e[0])}},t.prototype.load=function(e){this._loading=e;var t={},r=n.readFileSync(e,"ascii"),o=r.split(/[\r\n]+/);o.forEach(function(r){var e=r.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);t[e.shift()]=e}),this.define(t),this._loading=null},t.prototype.lookup=function(e,t){var r=e.replace(/.*[\.\/\\]/,"").toLowerCase();return this.types[r]||t||this.default_type},t.prototype.extension=function(e){var t=e.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[t]},e=new t,e.load(r.join(__dirname,"types/mime.types")),e.load(r.join(__dirname,"types/node.types")),e.default_type=e.lookup("bin"),e.Mime=t,e.charsets={lookup:function(e,t){return/^text\//.test(e)?"UTF-8":t}},module.exports=e;