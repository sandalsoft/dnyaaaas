function t(r,a){var e,i,t=a;if(r=s(r),!r)return!1;if(t&&!Array.isArray(t))for(t=Array(arguments.length-1),e=0;e<t.length;e++)t[e]=arguments[e+1];if(!t||!t.length)return r;for(e=0;e<t.length;e++)if(o(n(i=t[e]),r))return"+"===i[0]||~i.indexOf("*")?r:i;return!1}function r(r){var e,t=r.headers;return"transfer-encoding"in t?!0:(e=t["content-length"],e?isNaN(e)?!1:!!parseInt(e,10):!1)}function e(o,s){var e,i,n=s;if(!r(o))return null;if(arguments.length>2)for(n=Array(arguments.length-1),e=0;e<n.length;e++)n[e]=arguments[e+1];return i=o.headers["content-type"],t(i,n)}function n(e){switch(e){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":e="multipart/*"}return"+"===e[0]||~e.indexOf("/")?e:a.lookup(e)}function o(e,t){return e===!1?!1:e===t?!0:(t=t.split("/"),"+"===e[0]?!!t[1]&&e.length<=t[1].length&&e===t[1].substr(0-e.length):~e.indexOf("*")?(e=e.split("/"),"*"===e[0]?e[1]===t[1]:"*"===e[1]?e[0]===t[0]:"*"===e[1][0]&&"+"===e[1][1]?e[0]===t[0]&&e[1].length<=t[1].length+1&&e[1].substr(1)===t[1].substr(1-e[1].length):!1):!1)}function s(t){try{var e=i.parse(t);return delete e.parameters,i.format(e)}catch(r){return null}}var i=require("media-typer"),a=require("mime-types");module.exports=e,e.is=t,e.hasBody=r,e.normalize=n,e.match=o;