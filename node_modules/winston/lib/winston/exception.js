var r=require("os"),t=require("stack-trace"),e=exports;e.getAllInfo=function(r){return{date:""+new Date,process:e.getProcessInfo(),os:e.getOsInfo(),trace:e.getTrace(r),stack:r.stack&&r.stack.split("\n")}},e.getProcessInfo=function(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}},e.getOsInfo=function(){return{loadavg:r.loadavg(),uptime:r.uptime()}},e.getTrace=function(e){var r=e?t.parse(e):t.get();return r.map(function(e){return{column:e.getColumnNumber(),file:e.getFileName(),"function":e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),"native":e.isNative()}})};